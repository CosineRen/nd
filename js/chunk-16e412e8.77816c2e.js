(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-16e412e8"],{"81d1":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"head-info",class:e.center&&"center"},[a("span",[e._v(e._s(e.title))]),a("p",[e._v(e._s(e.content))]),e.bordered?a("em"):e._e()])},r=[],i={name:"HeadInfo",props:{title:{type:String,default:""},content:{type:String,default:""},bordered:{type:Boolean,default:!1},center:{type:Boolean,default:!0}}},o=i,l=(a("9d9c"),a("2877")),s=Object(l["a"])(o,n,r,!1,null,"7002d88c",null);t["a"]=s.exports},"9d9c":function(e,t,a){"use strict";var n=a("b5cb"),r=a.n(n);r.a},a01f:function(e,t,a){"use strict";var n=a("d3e4"),r=a.n(n);r.a},b5cb:function(e,t,a){},d3e4:function(e,t,a){},d84d:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{attrs:{bordered:!1}}),a("a-card",{staticStyle:{"margin-top":"24px"},attrs:{bordered:!1,title:"小说信息管理"}},[a("div",{attrs:{slot:"extra"},slot:"extra"}),a("div",{staticClass:"operate"},[a("a-button",{staticStyle:{width:"100%"},attrs:{type:"primary",icon:"plus"},on:{click:function(t){return e.$refs.newTempForm.add()}}},[e._v("添加小说信息")])],1),a("a-table",{attrs:{columns:e.columns,loading:e.loading,dataSource:e.templates,rowKey:function(e){return e.tempid},bordered:"",pagination:{pageSize:5}},scopedSlots:e._u([{key:"action",fn:function(t,n){return a("span",{},[a("a",{on:{click:function(t){return e.handleUpdate(n)}}},[e._v("编辑")]),a("a-divider",{attrs:{type:"vertical"}}),a("a-popconfirm",{attrs:{title:"确认删除？"},on:{confirm:function(t){return e.handleDelete(n.tempid)}}},[a("a",[e._v("删除")])])],1)}}])},[a("span",{attrs:{slot:"customNovelname"},slot:"customNovelname"},[a("a-icon",{attrs:{type:"book"}}),e._v(" 书名")],1)]),a("temp-form",{ref:"newTempForm",on:{commit:e.commitTemplate}})],1)],1)},r=[],i=(a("d3b7"),a("5530")),o=a("81d1"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{width:640,visible:e.visible,title:"任务添加"},on:{ok:e.handleSubmit,cancel:function(t){e.visible=!1}}},[a("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[a("a-form-item",{attrs:{label:"书名",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["novelname",{rules:[{required:!0,message:"请输入书名"}]}],expression:"['novelname', {rules:[{required: true, message: '请输入书名'}]}]"}]})],1),a("a-form-item",{attrs:{label:"主角名",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["character",{rules:[{required:!0,message:"请输入主角名"}]}],expression:"['character', {rules:[{required: true, message: '请输入主角名'}]}]"}]})],1),a("a-form-item",{attrs:{label:"备注",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remark"],expression:"['remark']"}]})],1)],1)],1)},s=[],c={name:"NewTempForm",data:function(){return{labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},tempid:"0",visible:!1,form:this.$form.createForm(this)}},methods:{add:function(){this.visible=!0,this.form=this.$form.createForm(this)},edit:function(e){var t=this.form.setFieldsValue;this.visible=!0,this.tempid=e.tempid,this.$nextTick((function(){t({novelname:e.novelname,character:e.character,remark:e.remark,tempid:e.tempid})}))},handleSubmit:function(){var e=this,t=this.form.validateFields;this.visible=!0,t((function(t,a){t||(a.tempid=e.tempid,e.$emit("commit",a),e.visible=!1)}))}}},m=c,d=a("2877"),u=Object(d["a"])(m,l,s,!1,null,null,null),p=u.exports,f=a("5880"),h=[{dataIndex:"novelname",key:"novelname",slots:{title:"customNovelname"},sortOrder:"descend",sorter:!0,width:"15%"},{title:"主角名",dataIndex:"character",key:"character",width:"10%"},{title:"备注",dataIndex:"remark",key:"remark",ellipsis:!0,width:"30%"},{title:"Action",key:"action",scopedSlots:{customRender:"action"},width:"10%"}],v={name:"Template",components:{HeadInfo:o["a"],TempForm:p},data:function(){return{status:"all",columns:h,loading:!1}},computed:Object(i["a"])({},Object(f["mapState"])({nickname:function(e){return e.user.nickname},welcome:function(e){return e.user.welcome},tempdata:function(e){return e.templates}}),{templates:function(){return this.$store.getters.template}}),created:function(){var e=this.GetTemplates;this.loading=!0,e({}).then((function(e){})).catch((function(){})).finally(this.loading=!1)},methods:Object(i["a"])({},Object(f["mapActions"])(["GetTemplates","AddTemplate","DelTemplate"]),{commitTemplate:function(e){var t=this,a=this.AddTemplate;a(e).then((function(e){})).catch((function(){t.data=!1}))},handleDelete:function(e){var t=this.DelTemplate;t(e).then((function(e){})).catch((function(){}))},handleUpdate:function(e){this.$refs.newTempForm.edit(e)}})},b=v,w=(a("a01f"),Object(d["a"])(b,n,r,!1,null,"7b6320a7",null));t["default"]=w.exports}}]);